<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>基于echarts国际合作关系图谱</title>
    <script src="https://cdn.bootcss.com/echarts/4.2.1-rc1/echarts.min.js"></script>
    <style>
        html,
        body,
        #main {
            padding: 0px;
            margin: 0px;
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
    <div id="main"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));

        // 指定图表的配置项和数据
        var option = {
            title: {
                text: "国际合作关系",
                top: "5%",
                left: "center"
            },
            tooltip: {},
            toolbox: {
                show: true,
                top: '5%',
                right: '5%',
                feature: {
                    dataView: { show: true, readOnly: true },
                    restore: { show: true },
                    saveAsImage: { show: true }
                }
            },
            itemStyle: {
                normal: {
                    color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                        offset: 0,
                        color: '#157eff'
                    }, {
                        offset: 1,
                        color: '#35c2ff'
                    }]),
                },
                shadowBlur: 10
            },
            textStyle: {
                color: '#333',
                fontSize: 16,
                fontWeight: 600,
            },
            legend: [{
                formatter: function (name) {
                    return echarts.format.truncateText(name, 200, '12px', '…');
                },
                tooltip: {
                    show: true
                },
                selectedMode: 'false',
                bottom: 20,
            }],
            animationDuration: 1500,
            animationEasingUpdate: 'quinticInOut',
            xAxis: {
                show: false,
                type: 'value'
            },
            yAxis: {
                show: false,
                type: 'value'
            },
            series: [ 
{
                type: 'graph',
                // layout: 'force',
                coordinateSystem: 'cartesian2d',
                legendHoverLink: false,
                hoverAnimation: true,
                nodeScaleRatio: false,
                //建头
                edgeSymbol: ['circle', 'none'],
                edgeSymbolSize: [2, 15],
                edgeLabel: {
                    show: false,
                    normal: {
                        show: true,
                        position: 'middle',
                        textStyle: {
                            fontSize: 12
                        },
                        formatter: "{c}"
                    }
                },
                focusNodeAdjacency: true,
                roam: false,
                //圆形上面的文字	
                label: {
                    normal: {
                        position: "inside",
                        show: true,
                        textStyle: {
                            fontSize: 12
                        },
                    }
                },
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                            offset: 0,
                            color: '#157eff'
                        }, {
                            offset: 1,
                            color: '#35c2ff'
                        }]),
                    },
                    shadowBlur: 10
                },
                lineStyle: {
                    normal: {
                        width: 1,
                        shadowColor: 'none',
                        color: '#ff0000'
                    },
                },
                data:[],
links: []
},   {
                type: 'lines',//节点A到块1,2,...n
                coordinateSystem: 'cartesian2d',
                z: 1,
                effect: {
                    show: true,
                    smooth: true,
                    trailLength: 0,
                    symbol: "arrow",
                    color: '#ff0000',
                    symbolSize: 8,
                    period: 3,
                    delay: 1000,
                    loop: false,
                },
                lineStyle: {
                    normal: {
                        curveness: 0,
                        color: '#ff0000',
                        width: 0,
                    }
                },
                data: [
                    {
                        coords: [
                            [80, 150],
                            [200, 250]
                        ]
                    }, {
                        coords: [
                            [80, 150],
                            [200, 200]
                        ]
                    }, {
                        coords: [
                            [80, 150],
                            [200, 150]
                        ]
                    }, {
                        coords: [
                            [80, 150],
                            [200, 100]
                        ]
                    }, {
                        coords: [
                            [80, 150],
                            [200, 50]
                        ]

                    }
                ]
            }
             ] //
        }
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>
</body>
</html>




















<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>基于echarts国际合作关系图谱</title>
    <script src="https://cdn.bootcss.com/echarts/4.2.1-rc1/echarts.min.js"></script>
    <style>
        html,
        body,
        #main {
            padding: 0px;
            margin: 0px;
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
    <div id="main"></div>
    <script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));

        // 指定图表的配置项和数据
        var option = {

            title: {
                text: "国际合作关系",
                top: "5%",
                left: "center"
            },
            tooltip: {},
            toolbox: {
                show: true,
                top: '5%',
                right: '5%',
                feature: {
                    dataView: { show: true, readOnly: true },
                    restore: { show: true },
                    saveAsImage: { show: true }
                }
            },
            itemStyle: {
                normal: {
                    color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                        offset: 0,
                        color: '#157eff'
                    }, {
                        offset: 1,
                        color: '#35c2ff'
                    }]),
                },
                shadowBlur: 10
            },
            textStyle: {
                color: '#333',
                fontSize: 16,
                fontWeight: 600,
            },
            legend: [{
                formatter: function (name) {
                    return echarts.format.truncateText(name, 200, '12px', '…');
                },
                tooltip: {
                    show: true
                },
                selectedMode: 'false',
                bottom: 20,
            }],
            animationDuration: 1500,
            animationEasingUpdate: 'quinticInOut',
            xAxis: {
                show: false,
                type: 'value'
            },
            yAxis: {
                show: false,
                type: 'value'
            },
            series: [{
                type: 'graph',
                // layout: 'force',
                coordinateSystem: 'cartesian2d',
                legendHoverLink: false,
                hoverAnimation: true,
                nodeScaleRatio: false,
                //建头
                edgeSymbol: ['circle', 'none'],
                edgeSymbolSize: [2, 15],
                edgeLabel: {
                    show: false,
                    normal: {
                        show: true,
                        position: 'middle',
                        textStyle: {
                            fontSize: 12
                        },
                        formatter: "{c}"
                    }
                },
                focusNodeAdjacency: true,
                roam: false,
                //圆形上面的文字	
                label: {
                    normal: {
                        position: "inside",
                        show: true,
                        textStyle: {
                            fontSize: 12
                        },
                    }
                },
                itemStyle: {
                    normal: {
                        color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                            offset: 0,
                            color: '#157eff'
                        }, {
                            offset: 1,
                            color: '#35c2ff'
                        }]),
                    },
                    shadowBlur: 10
                },
                lineStyle: {
                    normal: {
                        width: 1,
                        shadowColor: 'none',
                        color: '#ff0000'
                    },
                },
                data: [
                    {
                        name: "国家1",
                        symbolSize: 100,
                        draggable: false,
                        fixed: true,
                        value: [80, 150]
                    }, {
                        name: "国内单位3",
                        value: [200, 250],
                        draggable: false,
                        fixed: true,
                        symbol: "rect",
                        // symbolSize: 50,
                        symbolSize: [50, 30],
                        itemStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                                offset: 0,
                                color: '#ffb402'
                            }, {
                                offset: 1,
                                color: '#ffdc84'
                            }]),
                        }
                    }, {
                        name: "国内人N",
                        value: [200, 200],
                        draggable: false,
                        fixed: true,
                        // symbol: "rect",
                        symbolSize: 70,
                        // symbolSize: [50, 30],
                        itemStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                                offset: 0,
                                color: '#fff'
                            }, {
                                offset: 1,
                                color: '#5C6F7B'
                            }]),
                        }
                    }, {
                        name: "块3",
                        value: [200, 150],
                        draggable: false,
                        // symbol: "rect",
                        symbolSize: 40,
                        itemStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                                offset: 0,
                                color: '#ffb402'
                            }, {
                                offset: 1,
                                color: '#ffdc84'
                            }]),
                        }
                    },
                    {
                        name: "块5",
                        value: [400, 50],
                        draggable: false,
                        // symbol: "rect",
                        symbolSize: 40,
                        itemStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                                offset: 0,
                                color: '#ffb402'
                            }, {
                                offset: 1,
                                color: '#ffdc84'
                            }]),
                        }
                    },
                    {
                        name: "块6",
                        value: [50, 200],
                        draggable: false,
                        // symbol: "rect",
                        symbolSize: 40,
                        itemStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                                offset: 0,
                                color: '#ffb402'
                            }, {
                                offset: 1,
                                color: '#ffdc84'
                            }]),
                        }
                    },
                    {
                        name: "块7",
                        value: [50, 100],
                        draggable: false,
                        // symbol: "rect",
                        symbolSize: 40,
                        itemStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                                offset: 0,
                                color: '#ffb402'
                            }, {
                                offset: 1,
                                color: '#ffdc84'
                            }]),
                        }
                    },
                    {
                        name: "学科s",
                        value: [200, 100],
                        draggable: false,
                        // symbol: "rect",
                        symbolSize: 60,
                        itemStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                                offset: 0,
                                color: '#fff'
                            }, {
                                offset: 1,
                                color: 'red'
                            }]),
                        }
                    }, {
                        name: "块n",
                        value: [200, 50],
                        draggable: false,
                        // symbol: "rect",
                        symbolSize: 50,
                        // symbolSize: [50, 30],
                        itemStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                                offset: 0,
                                color: '#ffb402'
                            }, {
                                offset: 1,
                                color: '#ffdc84'
                            }]),
                        }
                    },
                    //节点B,C,D ....n
                    {
                        name: "国外单位",
                        symbolSize: 80,
                        draggable: false,
                        value: [300, 280],
                        itemStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                                offset: 0,
                                color: '#fff'
                            }, {
                                offset: 1,
                                color: '#7FAE90'
                            }]),
                        }
                    }, {
                        name: "节点C",
                        symbolSize: 50,
                        draggable: false,
                        value: [300, 215]
                    }, {
                        name: "节点D",
                        symbolSize: 80,
                        draggable: false,
                        value: [300, 150]
                    },
                    // {
                    //     name: "....",
                    //     symbolSize: 80,
                    //     draggable: false,
                    //     value: [300, 118],
                    //     itemStyle: {
                    //         color: "rgba(0, 0, 0, 0)"
                    //     }
                    // },
                    {
                        name: "节点N-1",
                        symbolSize: 60,
                        draggable: false,
                        value: [300, 85]
                    }, {
                        name: "节点N",
                        symbolSize: 80,
                        draggable: false,
                        value: [300, 20]
                    }, {
                        name: "国内单位",
                        symbolSize: 60,
                        draggable: false,
                        value: [400, 150],
                        itemStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                                offset: 0,
                                color: '#ffb402'
                            }, {
                                offset: 1,
                                color: '#ffdc84'
                            }]),
                        }
                    },
                    {
                        name: "学科1",
                        symbolSize: 40,
                        draggable: false,
                        value: [330, 330],
                        itemStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                                offset: 0,
                                color: '#fff'
                            }, {
                                offset: 1,
                                color: 'red'
                            }]),
                        }
                    },
                    {
                        name: "学科",
                        symbolSize: 20,
                        draggable: false,
                        value: [280, 340],
                        itemStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                                offset: 0,
                                color: '#fff'
                            }, {
                                offset: 1,
                                color: 'red'
                            }]),
                        }
                    },
                    {
                        name: "节点B3",
                        symbolSize: 30,
                        draggable: false,
                        value: [300, 360]
                    },
                    {
                        name: "国家2",
                        symbolSize: 100,
                        draggable: false,
                        value: [600, 150]
                    },
                    {
                        name: "国内单位1",
                        symbolSize: 80,
                        draggable: false,
                        value: [500, 100],
                        itemStyle: {
                            color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{
                                offset: 0,
                                color: '#fff'
                            }, {
                                offset: 1,
                                color: '#E98F6F'
                            }]),
                        }
                    },
                    {
                        name: "国内单位2",
                        symbolSize: 80,
                        draggable: false,
                        value: [500, 200]
                    },
                    {
                        name: "国内人1",
                        symbolSize: 55,
                        draggable: false,
                        value: [550, 250]
                    },
                    {
                        name: "国内人2",
                        symbolSize: 35,
                        draggable: false,
                        value: [500, 250]
                    },
                ],

                links: [
                    {
                        source: "国内单位2",
                        value: '',
                        target: "国内人2",
                    },
                    {
                        source: "国内单位2",
                        value: '',
                        target: "国内人1",
                    },
                    {
                        source: "国外单位",
                        value: '',
                        target: "学科1",
                    },
                    {
                        source: "国外单位",
                        value: '',
                        target: "学科",
                    },
                    {
                        source: "国外单位",
                        value: '',
                        target: "节点B3",
                    },
                    {
                        source: "大数据",
                        value: '',
                        target: "节点A",
                    },
                    {
                        source: "节点A",
                        value: " ",
                        target: " 大数据",
                    }, {
                        source: "国家1",
                        value: " ",
                        target: "国内单位3",
                    }, {
                        source: "国家1",
                        value: " ",
                        target: "国内人N",
                    }, {
                        source: "国家1",
                        value: " ",
                        target: "块3",
                    }, {
                        source: "国家1",
                        value: " ",
                        target: "学科s",
                    }, {
                        source: "国家1",
                        value: " ",
                        target: "块n",
                    }, {
                        source: "国外单位",
                        value: " ",
                        target: "国内单位",
                    }, {
                        source: "节点C",
                        value: " ",
                        target: "国内单位",
                    }, {
                        source: "节点D",
                        value: " ",
                        target: "国内单位",
                    }, {
                        source: "节点N-1",
                        value: " ",
                        target: "国内单位",
                    }, {
                        source: "节点N",
                        value: " ",
                        target: "国内单位",
                    }, {
                        source: "国内单位3",
                        value: " ",
                        target: "国外单位",
                    }, {
                        source: "国内人N",
                        value: " ",
                        target: "节点C",
                    }, {
                        source: "块3",
                        value: " ",
                        target: "节点D",
                    }, {
                        source: "学科s",
                        value: " ",
                        target: "节点N-1",
                    }, {
                        source: "块n",
                        value: " ",
                        target: "节点N",
                    },
                    {
                        source: "节点X",
                        value: " ",
                        target: "大数据 ",
                    },
                    {
                        source: "国内单位",
                        value: " ",
                        target: "国家2",
                    },
                    {
                        source: "国家2",
                        value: " ",
                        target: "国内单位1",
                    },
                    {
                        source: "国家2",
                        value: " ",
                        target: "国内单位2",
                    },
                    {
                        source: "国内单位",
                        value: " ",
                        target: "国内单位2",
                    },
                    {
                        source: "国外单位",
                        value: " ",
                        target: "国内单位2",
                    },
                    {
                        source: "节点N",
                        value: " ",
                        target: "学科s",
                    },
                    {
                        source: "国内单位1",
                        value: " ",
                        target: "节点D",
                    },
                    {
                        source: "学科s",
                        value: " ",
                        target: "节点D",
                    },
                    {
                        source: "块5",
                        value: " ",
                        target: "节点N",
                    },
                    {
                        source: "块6",
                        value: " ",
                        target: "国家1",
                    },
                    {
                        source: "块7",
                        value: " ",
                        target: "国家1",
                    },
                    {
                        source: "国内单位3",
                        value: " ",
                        target: "节点D",
                    }
                ],
            },
            {
                type: 'lines',//节点A到块1,2,...n
                coordinateSystem: 'cartesian2d',
                z: 1,
                effect: {
                    show: true,
                    smooth: true,
                    trailLength: 0,
                    symbol: "arrow",
                    color: '#ff0000',
                    symbolSize: 8,
                    period: 3,
                    delay: 1000,
                    loop: false,
                },
                lineStyle: {
                    normal: {
                        curveness: 0,
                        color: '#ff0000',
                        width: 0,
                    }
                },
                data: [
                    {
                        coords: [
                            [80, 150],
                            [200, 250]
                        ]
                    }, {
                        coords: [
                            [80, 150],
                            [200, 200]
                        ]
                    }, {
                        coords: [
                            [80, 150],
                            [200, 150]
                        ]
                    }, {
                        coords: [
                            [80, 150],
                            [200, 100]
                        ]
                    }, {
                        coords: [
                            [80, 150],
                            [200, 50]
                        ]

                    }
                ]
            }, {
                type: 'lines',//块1,2...n到节点A,B...N
                coordinateSystem: 'cartesian2d',
                // animationDelay: 10000,
                z: 1,
                effect: {
                    show: true,
                    smooth: true,
                    trailLength: 0,
                    symbol: "arrow",
                    color: '#ff0000',
                    symbolSize: 8,
                    period: 3,
                    delay: 2000,
                    loop: false,
                },
                lineStyle: {
                    normal: {
                        curveness: 0,
                        color: '#ff0000',
                        width: 0,
                    }
                },
                data: [
                    {
                        coords: [
                            [200, 250],
                            [300, 280]
                        ]
                    }, {
                        coords: [
                            [200, 200],
                            [300, 215]
                        ]
                    }, {
                        coords: [
                            [200, 150],
                            [300, 150]
                        ]
                    }, {
                        coords: [
                            [200, 100],
                            [300, 85]
                        ]
                    }, {
                        coords: [
                            [200, 50],
                            [300, 20]
                        ]
                    }
                ]
            }, {
                type: 'lines',//节点A,B...N到节点X
                coordinateSystem: 'cartesian2d',
                z: 1,
                effect: {
                    show: true,
                    smooth: true,
                    trailLength: 0,
                    symbol: "arrow",
                    color: '#ff0000',
                    symbolSize: 8,
                    period: 3,
                    delay: 3000,
                    loop: false,
                },
                lineStyle: {
                    normal: {
                        curveness: 0,
                        color: '#ff0000',
                        width: 0,
                    }
                },
                data: [
                    {
                        coords: [
                            [300, 280],
                            [400, 150]
                        ]
                    }, {
                        coords: [
                            [300, 215],
                            [400, 150]
                        ]
                    }, {
                        coords: [
                            [300, 150],
                            [400, 150]
                        ],
                        lineStyle: {
                            normal: {
                                curveness: 0,
                                color: '#ff0000',
                                width: 3,
                            }
                        },
                    }, {
                        coords: [
                            [300, 85],
                            [400, 150]
                        ]
                    }, {
                        coords: [
                            [300, 20],
                            [400, 150]

                        ],
                        lineStyle: {
                            normal: {
                                curveness: 0,
                                color: '#ff0000',
                                width: 3,
                            }
                        },
                    }
                ]
            }
            ]
        }
        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>
</body>

</html>